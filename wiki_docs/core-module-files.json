{
  "id": "core-module-files",
  "title": "Core Services",
  "description": "Detailed reference for the Core Services module encompassing project management, analysis, relations, files, and facts.",
  "content_markdown": "## Overview\nThis module provides a comprehensive set of services for managing projects, conducting analysis, handling relationships, managing files, and storing facts in a structured and efficient manner.\n\n## File Analysis\n\n### File: project_service.py\n- **Purpose**: Manages the lifecycle of projects by interacting with the `ProjectRepository`.\n- **Key Functionalities**:\n  - **Data Management**: Facilitates creation, retrieval, updating, and deletion of projects.\n  - **Data Validation**: Ensures consistent timestamp management for projects using UTC.\n\n### File: analysis_service.py\n- **Purpose**: Provides services for executing project analysis with integration of various tools and error handling.\n- **Key Functionalities**:\n  - **Pipeline Integration**: Uses `AgentExecutor` for dynamic analysis sequences.\n  - **Error Handling**: Structures and logs errors during analysis execution.\n  - **AI Integration**: Fetches AI clients using `LLMFactory` to enhance project analysis with AI capabilities.\n  - **Data Management**: Works with `ProjectService` and `FactService` for project-specific analysis.\n  - **Configuration**: Loads settings for AI model utilization from `app.core.config.settings`.\n\n### File: relation_service.py\n- **Purpose**: Manages database interactions related to relationships between nodes in projects.\n- **Key Functionalities**:\n  - **Data Access**: Asynchronously creates relationships between nodes using `RelationRepository`.\n  - **Data Retrieval**: Retrieves relationships for specified projects with `get_by_project` methods.\n\n### File: file_service.py\n- **Purpose**: Handles operations related to files associated with projects.\n- **Key Functionalities**:\n  - **Data Management**: Registers new files in the database.\n  - **Data Retrieval**: Fetches files linked to a specific project.\n  - **Data Update**: Updates file analysis status with current timestamps.\n\n### File: fact_service.py\n- **Purpose**: Manages facts related to projects stored in the database.\n- **Key Functionalities**:\n  - **Data Creation**: Registers new facts using `FactRepository`.\n  - **Data Retrieval**: Fetches facts based on associated project identifiers.\n  - **Batch Processing**: Efficiently registers multiple technology stack facts at once.\n\n### File: example.py\n- **Purpose**: Demonstrates integration with external technology scanning features.\n- **Key Functionalities**:\n  - **Dependency Management**: Initializes `JavaScriptScanner` for technology detection in the project directory.\n\n## Dependencies\n- **app.scanners.technologies.javascript**: For technology scanning capabilities.\n- **app.core.config**: Provides the configuration settings for logging and the AI client.\n- **SQLModel**: Used for managing asynchronous database operations with `AsyncSession` and `create_async_engine`. \n- **AgentExecutor**: To manage the execution and integration of analysis pipelines.\n- **Various repositories** (e.g., `ProjectRepository`, `FactRepository`, `RelationRepository`, `FileRepository`): For data access and manipulation across different domains of the module.",
  "diagram_mermaid": null,
  "related_files": [
    "project_service.py",
    "analysis_service.py",
    "relation_service.py",
    "file_service.py",
    "fact_service.py",
    "example.py"
  ]
}