{
  "id": "tools-module",
  "title": "Agent Tools",
  "description": "Module for managing agent functionality, tool execution, and project analyses.",
  "content_markdown": "## Overview\nThis module encapsulates the functionality of agent tools for managing dynamic execution of analysis pipelines, tool management, and project interaction.\n\n## Files Analysis\n\n### File: app/agents/discovery_pipeline.py\n- **Purpose**: Implements the project discovery pipeline stages with customizable order.\n- **Key Components**:\n  - **Pipeline Execution**: Utilizes `active_stages` for dynamic analysis flow based on user preferences.\n  - **Tech Stack Analysis**: Employs `TechnologyScanner` for efficient repository analysis and data gathering.\n  - **Prompt Management**: Integrates `_get_prompt_for_stage` for mapping and loading relevant prompts.\n\n### File: app/agents/agent_executor.py\n- **Purpose**: Facilitates execution of tools defined in agent interactions.\n- **Key Components**:\n  - **Tool Execution**: Manages dynamic execution through the `AgentExecutor` class.\n  - **Message Handling**: Maintains conversation history and context.\n  - **Error Handling**: Structures error handling for operational transparency.\n\n### File: app/agents/tools/registry.py\n- **Purpose**: Manages tool definitions and registration.\n- **Key Components**:\n  - **Tool Management**: Implements a `ToolRegistry` class with JSON schema definitions.\n  - **Schema Generation**: Uses Pydantic for dynamic model creation.\n  - **Logging**: Integrates logging to monitor registration actions.\n  - **Singleton Pattern**: Provides a global access point through a singleton instance.\n\n### File: app/agents/tools/project_tools.py\n- **Purpose**: Manages project life cycles.\n- **Key Components**:\n  - **Project Management**: Defines asynchronous management functions.\n  - **Database Interaction**: Handles sessions asynchronously with `AsyncSessionLocal`.\n  - **Error Handling**: Returns error messages for project not found scenarios.\n\n### File: app/agents/tools/file_tools.py\n- **Purpose**: Manages file-related operations.\n- **Key Components**:\n  - **File Management**: Implements asynchronous file operations such as registration and reading.\n  - **Security**: Ensures access checks within project directories.\n  - **Error Handling**: Provides feedback for common file issues.\n\n### File: app/agents/tools/relation_tools.py\n- **Purpose**: Manages project component relations.\n- **Key Components**:\n  - **Relation Management**: Defines functions to manage architectural relationships.\n  - **Database Interaction**: Uses `AsyncSessionLocal` for proper relation management.\n\n### File: app/agents/tools/fact_tools.py\n- **Purpose**: Handles project-related facts.\n- **Key Components**:\n  - **Fact Management**: Implements asynchronous functions for facts registration and retrieval.\n  - **Data Handling**: Structures payloads for registered facts using JSON.\n\n### File: app/agents/tools/analysis_tools.py\n- **Purpose**: Analyzes technological stacks and repository structures.\n- **Key Components**:\n  - **Analysis Functionality**: Defines tools for tech stack analysis via `AgentExecutor`.\n  - **Configuration**: Loads LLM configurations from external settings.\n\n### File: app/agents/core/types.py\n- **Purpose**: Defines type standards for analysis stages.\n- **Key Components**:\n  - **Type Definition**: Creates a type alias to maintain clarity and enforce standards.\n\n### File: app/agents/core/prompt_loader.py\n- **Purpose**: Manages prompt file loading.\n- **Key Components**:\n  - **File Loading**: Implements robust prompt retrieval methods.\n\n### File: app/agents/core/factory.py\n- **Purpose**: Client instance management.\n- **Key Components**:\n  - **Client Management**: Dynamically generates LLM client instances based on configuration.\n\n### File: app/agents/core/base.py\n- **Purpose**: Defines LLM client interface.\n- **Key Components**:\n  - **Abstract Base Class**: Enforces structure for LLM client implementations.\n\n### File: app/agents/core/ollama_client.py\n- **Purpose**: Implements the Ollama-specific LLM client.\n- **Key Components**:\n  - **Client Implementation**: Defines methods for generating responses and managing async operations.\n\n### File: app/agents/core/pipeline.py\n- **Purpose**: Manages analysis execution stages.\n- **Key Components**:\n  - **Pipeline Management**: Coordinates the execution flow of analysis stages.\n\n### File: app/agents/core/openai_client.py\n- **Purpose**: Integrates with OpenAIâ€™s API.\n- **Key Components**:\n  - **API Integration**: Manages API interactions securely and asynchronously.\n  - **Message Handling**: Constructs message payloads for API requests.\n\n### File: app/agents/miner/agent.py\n- **Purpose**: Implements the core `MinerAgent` class for file analyses.\n- **Key Components**:\n  - **Agent Functionality**: Manages analysis with an executor and prompts.\n  - **Asynchronous Execution**: Enables optimization via non-blocking methods.\n\n### File: app/agents/miner/schema.py\n- **Purpose**: Defines data models for analysis results.\n- **Key Components**:\n  - **Data Modeling**: Creates strict models for validation and clarity in conclusions.\n\n### File: app/agents/miner/prompts.py\n- **Purpose**: Establishes prompt for the Miner agent.\n- **Key Components**:\n  - **Prompt Definition**: Provides guidelines for fact extraction ensuring quality and scope.\n\n## Dependencies\n- **app/agents/core**: Contains the base clients and utilities for agent interactions.\n- **app/agents/tools**: Integrates various tools for executing and managing project tasks and facts.",
  "diagram_mermaid": null,
  "related_files": [
    "app/agents/discovery_pipeline.py",
    "app/agents/agent_executor.py",
    "app/agents/tools/registry.py",
    "app/agents/core/factory.py",
    "app/agents/miner/agent.py"
  ]
}