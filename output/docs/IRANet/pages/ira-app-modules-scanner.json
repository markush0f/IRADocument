{
  "id": "ira-app-modules-scanner",
  "title": "Scanner Module",
  "description": "Comprehensive documentation of the scanner module functionalities and behaviors.",
  "content_markdown": "## Overview\nThe `scanner` module is responsible for monitoring and analyzing system processes, as well as handling log files within specified directories. It supports functionalities such as process scanning, filtering based on criteria, and detecting log files for operational insights.\n\n## File-by-File Analysis\n\n### File: `ira/app/modules/scanner/process.py`\n- **Purpose**: This file focuses on scanning system processes and filtering them based on defined criteria.\n- **Key Functions**:\n  - `scan_processes`: Retrieves a list of process IDs and their attributes, allowing for scanning and filtering of processes based on criteria like uptime and command.\n  - `_is_candidate_process`: Filters processes based on command names and command-line arguments against the `ALLOWED_COMMANDS` set.\n  - `_is_excluded_cwd`: Excludes processes with current working directories that contain specified fragments in `EXCLUDED_CWD_FRAGMENTS`.\n  - `_read_etimes_seconds`: Calculates the elapsed time since a process started using system configuration ticks and the process's start time.\n  - **Uptime Dependency**: Relies on the `read_uptime_seconds` function to obtain system uptime for evaluating the `etimes` metric of processes.\n  - **Data Model Integration**: Wraps the results of filtered processes in `ScannedProcess` data structures for structured representation.\n\n### File: `ira/app/modules/scanner/__init__.py`\n- **Purpose**: Serves as the initializer for the scanner module, setting up necessary imports and structure.\n- **Key Functions/Classes**: No specific functions or classes mentioned in the facts; primarily serves as a namespace.\n\n### File: `ira/app/modules/scanner/logs.py`\n- **Purpose**: This file handles detection and classification of log files within specified directories.\n- **Key Functions**:\n  - `detect_log_paths`: Detects individual log files in a specified project directory, checking predefined candidate paths recursively for `.log` files.\n  - `detect_log_base_paths`: Identifies unique directories containing logs, validating existence before operations.\n- **Error Handling**: Functions employ existence checks (`path.exists()` and `path.is_dir()`) to avoid exceptions, improving stability when directories are missing.\n- **Data Types**: Utilizes Python's type hinting with `List` and `Set` from the `typing` module for clear data structure utilization.\n\n## Inter-Module Communication\nThe scanner module primarily interacts with the `system` submodule by leveraging its functions, particularly through the `read_uptime_seconds` function to access system uptime which is critical in evaluating process metrics.\n\n## Configuration\n- **Constants**: The module references several constants such as `ALLOWED_COMMANDS` and `EXCLUDED_CWD_FRAGMENTS` which dictate process filtering behavior and current working directory exclusion criteria but specific values for these constants have not been defined in the facts provided.",
  "diagram_mermaid": null,
  "related_files": []
}